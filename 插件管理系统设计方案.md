# æ’ä»¶ç®¡ç†ç³»ç»Ÿè®¾è®¡æ–¹æ¡ˆ

## ğŸ“Š ç°æœ‰ç³»ç»Ÿåˆ†æ

### âœ… å·²å…·å¤‡çš„èƒ½åŠ›

#### 1. **æ’ä»¶é…ç½®ç³»ç»Ÿ**
- **ç¯å¢ƒå˜é‡é…ç½®**: æ”¯æŒ33ä¸ªæ’ä»¶ç›¸å…³é…ç½®é¡¹
- **æ•°æ®åº“é…ç½®**: `PluginConfig` è¡¨å­˜å‚¨æ’ä»¶ç‰¹å®šé…ç½®
- **ç”¨æˆ·åå¥½**: `UserPreference` è¡¨æ”¯æŒä¸ªæ€§åŒ–è®¾ç½®
- **åŠ¨æ€é…ç½®**: æ’ä»¶å¯è¯»å–å’Œä¿®æ”¹è¿è¡Œæ—¶é…ç½®

#### 2. **æ’ä»¶æ–‡ä»¶ç®¡ç†**
- **ç›®å½•ç»“æ„**: `./hooks/`, `./migrations/`, `./pb_data/`
- **æ–‡ä»¶å‘ç°**: è‡ªåŠ¨æ‰«æå’ŒåŠ è½½æ’ä»¶æ–‡ä»¶
- **çƒ­é‡è½½**: æ”¯æŒæ–‡ä»¶å˜åŒ–æ—¶è‡ªåŠ¨é‡è½½
- **CLIå·¥å…·**: åˆ›å»ºã€éªŒè¯ã€åˆ—è¡¨ã€ç»Ÿè®¡æ’ä»¶

#### 3. **æ’ä»¶ç”Ÿå‘½å‘¨æœŸ**
- **åŠ è½½**: Bootstrap é˜¶æ®µåŠ è½½æ’ä»¶
- **è¿è¡Œ**: Serve é˜¶æ®µæ‰§è¡Œæ’ä»¶é€»è¾‘
- **å¸è½½**: Terminate é˜¶æ®µæ¸…ç†èµ„æº
- **äº‹ä»¶**: æ”¯æŒ URLã€ç”¨æˆ·ã€APIã€è‡ªå®šä¹‰äº‹ä»¶

#### 4. **ç›‘æ§å’Œæ—¥å¿—**
- **æ‰§è¡Œæ—¥å¿—**: `PluginLog` è¡¨è®°å½•æ’ä»¶æ‰§è¡Œæƒ…å†µ
- **æ€§èƒ½ç›‘æ§**: è®°å½•æ‰§è¡Œæ—¶é—´å’ŒæˆåŠŸç‡
- **é”™è¯¯å¤„ç†**: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯è®°å½•

### ğŸ¯ éœ€è¦å¢å¼ºçš„åŠŸèƒ½

1. **æ’ä»¶å…ƒæ•°æ®ç®¡ç†**
2. **æ’ä»¶çŠ¶æ€ç®¡ç†**
3. **æ’ä»¶å®‰è£…/å¸è½½**
4. **Webç®¡ç†ç•Œé¢**
5. **APIæ¥å£å®Œå–„**

## ğŸ¨ ç®¡ç†ç•Œé¢åŠŸèƒ½è®¾è®¡

### ğŸ“‹ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### 1. **æ’ä»¶ä»ªè¡¨æ¿**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ’ä»¶ç³»ç»ŸçŠ¶æ€æ€»è§ˆ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŸ¢ æ’ä»¶ç³»ç»Ÿï¼šå·²å¯ç”¨                     â”‚
â”‚ ğŸ“Š æ€»æ’ä»¶æ•°ï¼š8                         â”‚
â”‚ âœ… æ´»è·ƒæ’ä»¶ï¼š6                         â”‚
â”‚ âš ï¸  ç¦ç”¨æ’ä»¶ï¼š2                         â”‚
â”‚ ğŸ“ˆ ä»Šæ—¥æ‰§è¡Œï¼š1,247æ¬¡                   â”‚
â”‚ â±ï¸  å¹³å‡è€—æ—¶ï¼š15ms                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. **æ’ä»¶åˆ—è¡¨ç®¡ç†**
| æ’ä»¶åç§° | ç‰ˆæœ¬ | çŠ¶æ€ | ç±»å‹ | æœ€åæ›´æ–° | æ“ä½œ |
|---------|------|------|------|----------|------|
| config_demo | 1.0.0 | ğŸŸ¢ è¿è¡Œä¸­ | Hook | 2024-12-25 | âš™ï¸ ğŸ“Š ğŸ—‘ï¸ |
| url_classifier | 1.2.0 | ğŸŸ¢ è¿è¡Œä¸­ | Hook | 2024-12-24 | âš™ï¸ ğŸ“Š ğŸ—‘ï¸ |
| notification_center | 2.0.0 | ğŸ”´ å·²ç¦ç”¨ | Hook | 2024-12-23 | âš™ï¸ ğŸ“Š ğŸ—‘ï¸ |
| analytics_engine | 1.5.0 | ğŸŸ¢ è¿è¡Œä¸­ | Hook | 2024-12-24 | âš™ï¸ ğŸ“Š ğŸ—‘ï¸ |

#### 3. **æ’ä»¶è¯¦æƒ…é¡µé¢**
```
ğŸ“¦ æ’ä»¶ï¼šconfig_demo v1.0.0
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸºæœ¬ä¿¡æ¯                                â”‚
â”‚ â”œâ”€ æè¿°ï¼šé…ç½®ç³»ç»Ÿæ¼”ç¤ºæ’ä»¶                â”‚
â”‚ â”œâ”€ ä½œè€…ï¼šURLDB Team                    â”‚
â”‚ â”œâ”€ åˆ›å»ºæ—¶é—´ï¼š2024-12-25                â”‚
â”‚ â”œâ”€ æ–‡ä»¶å¤§å°ï¼š8.5KB                     â”‚
â”‚ â””â”€ ä¾èµ–ï¼šæ—                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¿è¡ŒçŠ¶æ€                                â”‚
â”‚ â”œâ”€ çŠ¶æ€ï¼šğŸŸ¢ æ­£å¸¸è¿è¡Œ                    â”‚
â”‚ â”œâ”€ å¯ç”¨æ—¶é—´ï¼š2024-12-25 08:00:00       â”‚
â”‚ â”œâ”€ æ‰§è¡Œæ¬¡æ•°ï¼š1,247                    â”‚
â”‚ â”œâ”€ å¹³å‡è€—æ—¶ï¼š12ms                      â”‚
â”‚ â””â”€ æˆåŠŸç‡ï¼š99.8%                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é…ç½®ç®¡ç†                                â”‚
â”‚ â”Œâ”€ JSON é…ç½®ç¼–è¾‘å™¨ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ { "enabled": true, ... }           â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4. **æ’ä»¶å¸‚åœº**
```
ğŸª æ’ä»¶å¸‚åœº
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” æœç´¢ï¼š[          ] [ğŸ”æœç´¢]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ åˆ†ç±»ï¼šå…¨éƒ¨ â¬‡ï¸                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“¦ ç¤¾äº¤åª’ä½“å¢å¼ºå™¨                        â”‚
â”‚   â­ 4.8 | ğŸ“¥ 1.2k | ğŸ“ ç¤¾äº¤åª’ä½“é›†æˆ   â”‚
â”‚   [ğŸ“¥ å®‰è£…] [ğŸ“„ è¯¦æƒ…]                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“¦ æ•°æ®å¯¼å‡ºå·¥å…·                          â”‚
â”‚   â­ 4.6 | ğŸ“¥ 856 | ğŸ“ å¤šæ ¼å¼å¯¼å‡º      â”‚
â”‚   [ğŸ“¥ å®‰è£…] [ğŸ“„ è¯¦æƒ…]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 1. **æ’ä»¶å…ƒæ•°æ®æ ‡å‡†**

æ¯ä¸ªæ’ä»¶æ–‡ä»¶å¼€å¤´éœ€è¦åŒ…å«æ ‡å‡†åŒ–çš„å…ƒæ•°æ®ï¼š

```javascript
/// <reference path="../pb_data/types.d.ts" />

/**
 * @name config_demo
 * @version 1.0.0
 * @description é…ç½®ç³»ç»Ÿæ¼”ç¤ºæ’ä»¶
 * @author URLDB Team
 * @license MIT
 * @category utility
 * @dependencies []
 * @permissions ["database:read", "config:manage"]
 * @hooks ["onURLAdd", "onUserLogin"]
 * @config_schema {
 *   "type": "object",
 *   "properties": {
 *     "enabled": {"type": "boolean", "default": true},
 *     "log_level": {"type": "string", "enum": ["debug", "info", "warn", "error"]}
 *   }
 * }
 */
```

### 2. **APIæ¥å£è®¾è®¡**

```go
// æ’ä»¶ç®¡ç†API
GET    /api/plugins                    // è·å–æ’ä»¶åˆ—è¡¨
GET    /api/plugins/{name}            // è·å–æ’ä»¶è¯¦æƒ…
POST   /api/plugins/{name}/enable     // å¯ç”¨æ’ä»¶
POST   /api/plugins/{name}/disable    // ç¦ç”¨æ’ä»¶
PUT    /api/plugins/{name}/config     // æ›´æ–°æ’ä»¶é…ç½®
DELETE /api/plugins/{name}            // å¸è½½æ’ä»¶
POST   /api/plugins/install           // å®‰è£…æ’ä»¶
GET    /api/plugins/market            // è·å–æ’ä»¶å¸‚åœº
GET    /api/plugins/stats             // è·å–æ’ä»¶ç»Ÿè®¡
GET    /api/plugins/logs              // è·å–æ’ä»¶æ—¥å¿—
```

### 3. **æ•°æ®åº“æ‰©å±•**

```go
// æ–°å¢æ’ä»¶å…ƒæ•°æ®è¡¨
type PluginMetadata struct {
    ID            uint      `gorm:"primaryKey" json:"id"`
    PluginName    string    `gorm:"uniqueIndex;not null" json:"plugin_name"`
    Version       string    `gorm:"not null" json:"version"`
    Description   string    `gorm:"type:text" json:"description"`
    Author        string    `json:"author"`
    License       string    `json:"license"`
    Category      string    `json:"category"`
    Dependencies  string    `gorm:"type:text" json:"dependencies"` // JSON
    Permissions   string    `gorm:"type:text" json:"permissions"`  // JSON
    ConfigSchema  string    `gorm:"type:text" json:"config_schema"` // JSON
    FilePath      string    `gorm:"not null" json:"file_path"`
    FileSize      int64     `json:"file_size"`
    FileHash      string    `gorm:"uniqueIndex" json:"file_hash"`
    Status        string    `gorm:"default:'installed'" json:"status"` // installed, enabled, disabled, error
    InstallTime   time.Time `gorm:"autoCreateTime" json:"install_time"`
    LastUpdated   time.Time `gorm:"autoUpdateTime" json:"last_updated"`
}
```

### 4. **å‰ç«¯ç»„ä»¶ç»“æ„**

```
web/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ plugins/
â”‚       â”œâ”€â”€ index.vue              // æ’ä»¶åˆ—è¡¨
â”‚       â”œâ”€â”€ detail.vue             // æ’ä»¶è¯¦æƒ…
â”‚       â”œâ”€â”€ market.vue             // æ’ä»¶å¸‚åœº
â”‚       â””â”€â”€ config.vue             // æ’ä»¶é…ç½®
â”œâ”€â”€ components/
â”‚   â””â”€â”€ plugins/
â”‚       â”œâ”€â”€ PluginCard.vue         // æ’ä»¶å¡ç‰‡
â”‚       â”œâ”€â”€ PluginStatus.vue       // çŠ¶æ€æŒ‡ç¤ºå™¨
â”‚       â”œâ”€â”€ ConfigEditor.vue       // é…ç½®ç¼–è¾‘å™¨
â”‚       â”œâ”€â”€ LogViewer.vue          // æ—¥å¿—æŸ¥çœ‹å™¨
â”‚       â””â”€â”€ InstallModal.vue       // å®‰è£…å¼¹çª—
â””â”€â”€ api/
    â””â”€â”€ plugins.js                 // æ’ä»¶APIæ¥å£
```

## ğŸ¯ å®ç°ä¼˜å…ˆçº§

### Phase 1: æ ¸å¿ƒAPIå’ŒåŸºç¡€ç•Œé¢ âœ…
1. æ’ä»¶å…ƒæ•°æ®è§£æ
2. åŸºç¡€APIæ¥å£
3. æ’ä»¶åˆ—è¡¨å’ŒçŠ¶æ€ç®¡ç†
4. ç®€å•çš„é…ç½®ç¼–è¾‘

### Phase 2: é«˜çº§åŠŸèƒ½ ğŸš§
1. æ’ä»¶å¸‚åœº
2. å®‰è£…/å¸è½½åŠŸèƒ½
3. æ—¥å¿—æŸ¥çœ‹å™¨
4. æ€§èƒ½ç›‘æ§

### Phase 3: ä¼ä¸šåŠŸèƒ½ ğŸ“‹
1. æ’ä»¶ä¾èµ–ç®¡ç†
2. æƒé™æ§åˆ¶
3. ç‰ˆæœ¬ç®¡ç†
4. è‡ªåŠ¨æ›´æ–°

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **åˆ›å»ºæ’ä»¶å…ƒæ•°æ®è§£æå™¨**
2. **è®¾è®¡APIæ¥å£å’Œæ•°æ®åº“ç»“æ„**
3. **å¼€å‘å‰ç«¯ç®¡ç†ç•Œé¢**
4. **å®ç°æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†**

è¿™ä¸ªè®¾è®¡æ–¹æ¡ˆå……åˆ†åˆ©ç”¨äº†ç°æœ‰çš„é…ç½®ç³»ç»Ÿå’Œç›‘æ§èƒ½åŠ›ï¼ŒåŒæ—¶æä¾›äº†å®Œæ•´çš„Webç®¡ç†ä½“éªŒã€‚

---

**è®¾è®¡æ—¶é—´**: 2024-12-25
**è®¾è®¡ç‰ˆæœ¬**: 1.0
**çŠ¶æ€**: å·²å®Œæˆï¼Œå¾…å®ç°